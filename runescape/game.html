<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Open881 - World</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Trebuchet MS', sans-serif; touch-action: none; }
        #game-ui { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        
        /* CONTEXT TEXT */
        #context-text {
            position: absolute; top: 10px; left: 10px;
            color: #00ff00; font-weight: bold; text-shadow: 1px 1px 0 #000;
            font-size: 16px;
        }

        /* BOTTOM RIGHT TABS */
        #tabs-container {
            position: absolute; bottom: 10px; right: 10px;
            display: flex; flex-direction: column; align-items: flex-end; gap: 5px;
            pointer-events: auto;
        }

        /* TAB BUTTONS */
        .tab-icons { display: flex; gap: 5px; }
        .tab-btn {
            width: 40px; height: 40px; background: #1a2a36; border: 2px solid #5a7b8f;
            color: #ffd700; display: flex; align-items: center; justify-content: center;
            font-size: 20px; cursor: pointer; border-radius: 5px;
        }
        .tab-btn:hover { border-color: #00ccff; background: #2b3945; }

        /* CONTENT PANELS */
        .panel {
            width: 180px; background: rgba(8, 30, 43, 0.95); border: 2px solid #3c4b57;
            padding: 10px; display: none; margin-bottom: 5px;
        }
        .panel.active { display: block; }
        .panel-header { border-bottom:1px solid #5a7b8f; margin-bottom:10px; font-weight:bold; color:#00ccff; font-size: 14px; }

        /* SPELL GRID */
        .spell-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .spell {
            background: #000; border: 1px solid #5a7b8f; aspect-ratio: 1;
            display: flex; align-items: center; justify-content: center;
            font-size: 18px; cursor: pointer; border-radius: 3px; position: relative;
        }
        .spell:hover { border-color: #ffd700; box-shadow: 0 0 5px #ffd700; }
        
        /* SKILL ROWS */
        .skill-row { display: flex; justify-content: space-between; color: #ffd700; font-size: 12px; margin-bottom: 4px; }
    </style>
    
    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
    </script>
</head>
<body>

    <div id="game-ui">
        <div id="context-text">Welcome to Gielinor</div>
        
        <div id="tabs-container">
            <div id="panel-skills" class="panel active">
                <div class="panel-header">Stats</div>
                <div class="skill-row"><span>üå≤ Woodcutting</span><span id="wc-level">1</span></div>
                <div class="skill-row" style="color:#aaa;">XP: <span id="wc-xp">0</span></div>
            </div>

            <div id="panel-magic" class="panel">
                <div class="panel-header">Teleports</div>
                <div class="spell-grid">
                    <div class="spell" onclick="window.game.teleport('lumbridge')" title="Lumbridge">üè∞</div>
                    <div class="spell" onclick="window.game.teleport('falador')" title="Falador">üõ°Ô∏è</div>
                    <div class="spell" onclick="window.game.teleport('menaphos')" title="Menaphos">üèúÔ∏è</div>
                    <div class="spell" style="opacity:0.3">üíÄ</div>
                    <div class="spell" style="opacity:0.3">‚ùÑÔ∏è</div>
                    <div class="spell" style="opacity:0.3">üí∞</div>
                </div>
            </div>

            <div class="tab-icons">
                <div class="tab-btn" onclick="switchTab('panel-skills')">üìä</div>
                <div class="tab-btn" onclick="switchTab('panel-magic')">üìò</div>
            </div>
        </div>
    </div>

    <script>
        // Simple UI Switcher
        function switchTab(id) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }
    </script>

    <script type="module">
        import { initGame, triggerTeleport } from './main.js';
        
        // Expose teleport for HTML buttons
        window.game = {
            teleport: (loc) => triggerTeleport(loc)
        };

        try { initGame(); } catch (e) { console.error(e); }
    </script>
</body>
</html>

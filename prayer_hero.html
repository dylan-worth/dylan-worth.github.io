<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>Prayer Hero ‚Äì Fan Remake</title>
<style>
  :root{
    --bg:#0b0b10;
    --lava1:#2b0d0d;
    --lava2:#6a1a1a;
    --panel:#1a1f2a;
    --panel-2:#101420;
    --edge:#313b52;
    --text:#e6e6e6;
    --muted:#a7b0c2;
    --good:#38f57b;
    --ok:#ffd166;
    --miss:#ff5e57;--lane0:#6bf178;
--lane1:#b16bff;
--lane2:#ff9f45;
--lane3:#6bb6ff;

}

html,body{height:100%;} body{ margin:0; background: radial-gradient(1200px 600px at 70% 30%, #1a0f14, #0a070b 60%, #000 90%) , repeating-linear-gradient(120deg, var(--lava1) 0 2px, transparent 2px 6px), repeating-linear-gradient(60deg,  var(--lava2) 0 1px, transparent 1px 5px); background-blend-mode: overlay, screen, normal; color:var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial, sans-serif; overflow:hidden; }

.wrap{display:grid; grid-template-columns: 1fr 340px; gap:14px; height:100%;}

.stage{position:relative; display:flex; align-items:center; justify-content:center; height:100%; border-right:2px solid #0008;} canvas{ width:100%; height:100%; display:block; background: linear-gradient(#0c0f17, #0a0c14 65%, #080a10 100%);}

/* LOGO */ .badge{ position:absolute; top:12px; left:50%; transform:translateX(-50%); width:120px; aspect-ratio:1/1; display:grid; place-items:center; filter: drop-shadow(0 8px 20px #000); z-index:3; } .badge .ring{position:absolute; inset:0; border-radius:50%; background:conic-gradient(from 0deg, #d7dbe9 0 10%, #96a3c7 10% 20%, #d7dbe9 20% 30%, #96a3c7 30% 40%, #d7dbe9 40% 50%, #96a3c7 50% 60%, #d7dbe9 60% 70%, #96a3c7 70% 80%, #d7dbe9 80% 90%, #96a3c7 90% 100%); mask: radial-gradient(circle at 50% 50%, transparent 56%, black 57%);}
.badge .text{font-weight:800; text-align:center; letter-spacing:.06em; line-height:1;} .badge .text span{display:block; font-size:18px; color:#e6e6f8} .badge .text strong{display:block; font-size:30px; color:#fff; text-shadow: 0 2px 0 #000, 0 0 12px #7fb1ff;}

/* HUD */ .hud{ height:100%; background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%); border-left: 1px solid #000a; box-shadow: inset 0 0 0 2px #0006, inset 0 0 32px #000c; padding:16px; display:flex; flex-direction:column; gap:16px; } .card{background: linear-gradient(180deg, #111722, #0c121c); border:1px solid var(--edge); border-radius:14px; padding:14px; box-shadow: 0 6px 18px #0008;} .title{font-weight:800; letter-spacing:.04em;} .muted{color:var(--muted); font-size:12px;} .kv{display:grid; grid-template-columns: auto 1fr; gap:6px 12px; align-items:center;} .kv b{font-weight:700} .bars { display:grid; gap:10px; } .bar{height:14px; border-radius:999px; background:#1c2230; border:1px solid #2a3347; box-shadow: inset 0 1px 2px #000; overflow:hidden} .bar>.fill{height:100%; width:0%; background: linear-gradient(90deg, #89ff9f, #59b9ff);} .row{display:flex; gap:10px; align-items:center; justify-content:space-between} .btn{appearance:none; border:none; background:#1e2536; color:#dfe7ff; padding:10px 14px; border-radius:10px; cursor:pointer; border:1px solid #2a3550; font-weight:700} .btn:hover{background:#283148} .btn:active{transform:translateY(1px)} .chip{display:inline-flex; align-items:center; gap:8px; background:#121929; color:#c4d0f6; border:1px solid #28324a; border-radius:999px; padding:8px 12px; font-size:12px;} .dot{width:10px; height:10px; border-radius:50%} .hearts{display:flex; gap:6px} .heart{width:18px; height:18px; background: radial-gradient(circle at 30% 30%, #ff9090, #ff4545 60%, #d70024 61%); clip-path: path('M12 4 C12 2 10 0 8 0 C6 0 4 2 4 4 C4 6 6 8 8 10 C10 8 12 6 12 4 Z'); filter: drop-shadow(0 0 6px #ff1825aa)} .heart.off{opacity:.25; filter:none}

.controls{ position:absolute; left:0; right:340px; bottom:16px; display:flex; justify-content:center; gap:10px; z-index:4; } .key{width:64px; height:64px; border-radius:18px; background:#0c121c; border:2px solid #2f3b55; display:grid; place-items:center; color:#fff; font-weight:800; text-shadow:0 2px 0 #000; user-select:none} .key:active{transform:translateY(2px)} .legend{display:flex; gap:10px; flex-wrap:wrap}

@media (max-width: 980px){ .wrap{grid-template-columns: 1fr;} .hud{position:fixed; bottom:0; left:0; right:0; height:auto; max-height:50%; overflow-y:auto; width:100%; backdrop-filter: blur(6px); opacity:.98; border-left:none; border-top:1px solid #000a; box-shadow: 0 -4px 18px #000c;} .controls{ right:12px; left:12px; bottom:calc(50% + 12px); } .badge { width:90px; } } </style>

</head>
<body>
  <div class="wrap">
    <div class="stage">
      <canvas id="game" aria-label="Prayer Hero game canvas" ></canvas>
      <div class="badge" aria-hidden="true">
        <div class="ring"></div>
        <div class="text"><span>PRAYER</span><strong>HERO</strong></div>
      </div>
      <div class="controls" id="touchControls" hidden>
        <div class="key" data-lane="0">‚óÄÔ∏é</div>
        <div class="key" data-lane="1">‚ñº</div>
        <div class="key" data-lane="2">‚ñ≤</div>
        <div class="key" data-lane="3">‚ñ∂Ô∏é</div>
      </div>
    </div><aside class="hud">
  <div class="card">
    <div class="title">Session</div>
    <div class="kv" style="margin-top:8px">
      <div class="muted">Difficulty</div>
      <div>
        <select id="difficulty">
          <option value="easy">Easy</option>
          <option value="medium" selected>Medium</option>
          <option value="hard">Hard</option>
          <option value="insane">Insane</option>
        </select>
      </div>
      <div class="muted">Length</div>
      <div>
        <select id="length">
          <option value="short">Short (45s)</option>
          <option value="medium" selected>Medium (75s)</option>
          <option value="long">Long (120s)</option>
        </select>
      </div>
      <div class="muted">Speed</div>
      <div>
        <input type="range" id="speed" min="3" max="9" value="5"/>
      </div>
    </div>
    <div class="row" style="margin-top:10px">
      <button id="play" class="btn">‚ñ∂ Start</button>
      <button id="pause" class="btn">‚è∏ Pause</button>
      <button id="restart" class="btn">‚Üª Restart</button>
    </div>
    <div class="legend" style="margin-top:10px">
      <span class="chip"><span class="dot" style="background:var(--lane0)"></span>Left</span>
      <span class="chip"><span class="dot" style="background:var(--lane1)"></span>Down</span>
      <span class="chip"><span class="dot" style="background:var(--lane2)"></span>Up</span>
      <span class="chip"><span class="dot" style="background:var(--lane3)"></span>Right</span>
    </div>
    <div class="muted" style="margin-top:6px">Keys: ‚Üê ‚Üì ‚Üë ‚Üí  (WASD also works)</div>
  </div>

  <div class="card">
    <div class="title">Stats</div>
    <div class="kv" style="margin-top:8px">
      <div class="muted">Score</div><b id="score">0</b>
      <div class="muted">Streak</div><b id="streak">0</b>
      <div class="muted">Multiplier</div><b id="mult">x1</b>
    </div>
    <div class="bars" style="margin-top:10px">
      <div class="bar"><div class="fill" id="timeFill"></div></div>
    </div>
    <div class="row" style="margin-top:10px">
      <div class="muted">Health</div>
      <div class="hearts" id="hearts"></div>
    </div>
  </div>

  <div class="card">
    <div class="title">About</div>
    <div class="muted" style="margin-top:6px">Fan-made rhythm mini-game inspired by the vibe of OSRS. No assets required. Plays in your browser. Have fun and respect the spore. üß™</div>
  </div>
</aside>

  </div><script>
// Full game logic
const canvas=document.getElementById('game');
const ctx=canvas.getContext('2d');
const DPR=window.devicePixelRatio||1;
function resize(){canvas.width=canvas.clientWidth*DPR;canvas.height=canvas.clientHeight*DPR;ctx.setTransform(DPR,0,0,DPR,0,0);laneGeom.compute();}
new ResizeObserver(resize).observe(canvas);
const laneGeom={lanes:4,width:0,height:0,hitY:0,topW:140,bottomW:520,gap:16,compute(){this.width=canvas.clientWidth;this.height=canvas.clientHeight;this.hitY=this.height-110;}};
const state={running:false,paused:false,startAt:0,pauseAt:0,duration:75000,approach:1500,hitWindow:{good:120,ok:180},notes:[],active:[],nextIdx:0,score:0,streak:0,mult:1,healthMax:5,health:5,speed:5};
function nowMs(){if(!state.running)return 0;return performance.now()-state.startAt;}
function generateMap(totalMs){let bpm=100;let beat=60000/bpm;let t=0;let map=[];while(t<totalMs){map.push({t:Math.floor(t),lane:Math.floor(Math.random()*4)});t+=beat;}return map;}
function startRun(){state.notes=generateMap(state.duration);state.active=[];state.nextIdx=0;state.score=0;state.streak=0;state.mult=1;state.health=state.healthMax;state.running=true;state.startAt=performance.now();loop();}
function hit(lane){if(!state.running)return;const t=nowMs();let target=null;for(const n of state.active){if(n.lane===lane&&!n.hit&&Math.abs(n.t-t)<=state.hitWindow.ok){target=n;break;}}if(target){target.hit=true;state.streak++;state.score+=100;state.mult=Math.min(8,1+Math.floor(state.streak/10));}else{state.streak=0;state.mult=1;state.health--;if(state.health<=0)endRun();}updateHud();}
function updateHud(){document.getElementById('score').textContent=state.score;document.getElementById('streak').textContent=state.streak;document.getElementById('mult').textContent='x'+state.mult;let heartsEl=document.getElementById('hearts');heartsEl.innerHTML='';for(let i=0;i<state.healthMax;i++){let d=document.createElement('div');d.className='heart'+(i<state.health?'':' off');heartsEl.appendChild(d);}document.getElementById('timeFill').style.width=(100*nowMs()/state.duration)+'%';}
function endRun(){state.running=false;alert('Run over: '+state.score);} 
function loop(){if(!state.running)return;const t=nowMs();const A=state.approach;while(state.nextIdx<state.notes.length&&state.notes[state.nextIdx].t-t<A){state.active.push(state.notes[state.nextIdx]);state.nextIdx++;}ctx.clearRect(0,0,canvas.clientWidth,canvas.clientHeight);for(const n of state.active){if(n.hit)continue;const prog=1-(n.t-t)/A;const y=prog*laneGeom.hitY;const x=(n.lane+1)*(canvas.clientWidth/5);ctx.beginPath();ctx.arc(x,y,20,0,Math.PI*2);ctx.fillStyle=['#6bf178','#b16bff','#ff9f45','#6bb6ff'][n.lane];ctx.fill();}if(t<state.duration){requestAnimationFrame(loop);}else{endRun();}} 
// Input
const laneForKey=(c)=>({ArrowLeft:0,KeyA:0,ArrowDown:1,KeyS:1,ArrowUp:2,KeyW:2,ArrowRight:3,KeyD:3}[c]??-1);
window.addEventListener('keydown',e=>{const l=laneForKey(e.code);if(l!=-1)hit(l);});
resize();
startRun();
</script></body>
</html>
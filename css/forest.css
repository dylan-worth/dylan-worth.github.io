body { margin: 0; overflow: hidden; background: #000; font-family: 'Courier New', monospace; user-select: none; }
canvas { display: block; width: 100vw; height: 100vh; touch-action: none; }

#ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }

/* STATS BARS */
#stats-container {
    position: absolute; top: 20px; left: 20px; width: 180px;
    color: #e6c86e; pointer-events: auto; display: flex; flex-direction: column; gap: 4px;
}
.bar-bg {
    width: 100%; height: 8px; background: rgba(0,0,0,0.6); border: 1px solid #5d4037;
    border-radius: 4px; overflow: hidden;
}
.bar-fill { height: 100%; width: 100%; transition: width 0.3s; }
#level-text { font-weight: bold; font-size: 14px; text-shadow: 1px 1px 0 #000; margin-bottom: 2px; }

/* INVENTORY */
#inventory {
    position: absolute; top: 100px; left: 20px; display: flex; flex-direction: column; gap: 10px; pointer-events: auto;
}
.inv-slot {
    background: rgba(0,0,0,0.6); border: 2px solid #5d4037; color: #e6c86e;
    width: 50px; height: 50px; display: flex; flex-direction: column;
    align-items: center; justify-content: center; border-radius: 8px; font-size: 10px; cursor: pointer;
    transition: all 0.2s;
}
.inv-slot.active { border-color: #e6c86e; background: rgba(230, 200, 110, 0.2); }
.inv-slot.broken { border-color: #e74c3c; background: rgba(231, 76, 60, 0.2); }
.inv-icon { font-size: 24px; }

/* TIME & HUD */
#time-display {
    position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
    color: white; text-shadow: 0 2px 2px black; font-weight: bold; font-size: 18px;
}
#zoom-controls {
    position: absolute; top: 50%; right: 20px; transform: translateY(-50%);
    display: flex; flex-direction: column; gap: 10px; pointer-events: auto;
}
.hud-btn {
    width: 40px; height: 40px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3);
    border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; font-size: 20px; cursor: pointer;
}

/* ACTION BUTTON */
#action-btn {
    position: absolute; bottom: 50px; right: 40px; width: 80px; height: 80px;
    background: #e6c86e; border: 4px solid #5d4037; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; font-weight: bold;
    color: #3e2723; pointer-events: auto; transition: all 0.2s; opacity: 0.5;
    flex-direction: column; line-height: 1.1; font-size: 14px; text-align: center;
}
#action-btn.ready { opacity: 1; transform: scale(1.1); cursor: pointer; }

/* JOYSTICK */
#joystick-zone {
    position: absolute; bottom: 40px; left: 40px; width: 120px; height: 120px;
    background: rgba(255, 255, 255, 0.05); border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%; pointer-events: auto;
}
#stick {
    position: absolute; top: 50%; left: 50%; width: 50px; height: 50px;
    background: rgba(230, 200, 110, 0.8); border-radius: 50%; transform: translate(-50%, -50%);
}

/* MODAL & DEATH */
#interaction-modal {
    position: absolute; top: 30%; left: 50%; transform: translate(-50%, -50%) scale(0.8);
    background: rgba(20, 20, 20, 0.95); border: 2px solid #e6c86e; padding: 20px;
    border-radius: 10px; text-align: center; color: #e6c86e; opacity: 0; pointer-events: none; transition: 0.3s;
}
#interaction-modal.active { opacity: 1; transform: translate(-50%, -50%) scale(1); pointer-events: auto; }
.btn-visit { margin-top:10px; display:inline-block; padding:8px 16px; background:#e6c86e; color:black; text-decoration:none; border-radius:4px; font-weight: bold; }

#death-screen {
    position: absolute; top:0; left:0; width:100%; height:100%; background:black;
    color:#e74c3c; display:flex; flex-direction:column; align-items:center; justify-content:center;
    display: none; pointer-events:auto;
}
#death-screen button {
    padding: 15px 30px; font-size: 20px; background: #e74c3c; border: none; font-family: inherit; cursor: pointer; margin-top: 20px;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Avatar Editor</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .editor-container { 
            display: flex; 
            gap: 20px; 
            flex-wrap: wrap; /* Stack on mobile */
            justify-content: center; 
        }
        .preview-area { 
            width: 100%; 
            max-width: 300px; 
            height: 350px; 
            background: #555; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            border-radius: 10px;
        }
        .avatar { display: flex; flex-direction: column; align-items: center; transform: scale(0.8); }
        .head { width: 60px; height: 60px; background: #ffeaa7; margin-bottom: 5px; border-radius: 10px; }
        .torso { width: 100px; height: 100px; background: #0984e3; margin-bottom: 5px; }
        .legs { display: flex; gap: 10px; }
        .leg { width: 45px; height: 100px; background: #2d3436; }
        .items-list { flex: 1; min-width: 300px; }
        .item-row { display: flex; justify-content: space-between; background: var(--bg-light); padding: 15px; margin-bottom: 10px; align-items: center; border-radius: 8px; }
    </style>
</head>
<body>
    <nav>
        <h1>BLOX</h1>
        <div class="nav-links">
            <a href="roblox.html">Games</a>
            <a href="roblox-char.html" style="color:white;">Avatar</a>
            <a href="roblox-bucs.html">Store</a>
        </div>
        <div class="currency-display">R$ <span id="r-amount">0</span></div>
    </nav>

    <div class="container">
        <h2>Avatar Editor</h2>
        <div class="editor-container">
            <div class="preview-area">
                <div class="avatar">
                    <div class="head" id="av-head"></div>
                    <div class="torso" id="av-torso"></div>
                    <div class="legs">
                        <div class="leg" id="av-leg-l"></div>
                        <div class="leg" id="av-leg-r"></div>
                    </div>
                </div>
            </div>
            
            <div class="items-list">
                <h3>Shirt Shop</h3>
                <div class="item-row">
                    <span>Red Plaid</span>
                    <button class="btn" onclick="buyItem('torso', '#d63031', 50)">R$50</button>
                </div>
                <div class="item-row">
                    <span>Gold Tux</span>
                    <button class="btn" onclick="buyItem('torso', '#fdcb6e', 1000)">R$1000</button>
                </div>

                <h3>Pants Shop</h3>
                <div class="item-row">
                    <span>Jeans</span>
                    <button class="btn" onclick="buyItem('leg', '#0984e3', 25)">R$25</button>
                </div>
                <div class="item-row">
                    <span>Camo</span>
                    <button class="btn" onclick="buyItem('leg', '#55efc4', 75)">R$75</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function updateDisplay() {
            let bucs = parseInt(localStorage.getItem('robux') || 0);
            document.getElementById('r-amount').innerText = bucs;
            
            if(localStorage.getItem('av-torso')) document.getElementById('av-torso').style.background = localStorage.getItem('av-torso');
            if(localStorage.getItem('av-leg')) {
                document.getElementById('av-leg-l').style.background = localStorage.getItem('av-leg');
                document.getElementById('av-leg-r').style.background = localStorage.getItem('av-leg');
            }
        }

        function buyItem(part, color, cost) {
            let bucs = parseInt(localStorage.getItem('robux') || 0);
            if (bucs >= cost) {
                bucs -= cost;
                localStorage.setItem('robux', bucs);
                
                if (part === 'torso') {
                    document.getElementById('av-torso').style.background = color;
                    localStorage.setItem('av-torso', color);
                } else {
                    document.getElementById('av-leg-l').style.background = color;
                    document.getElementById('av-leg-r').style.background = color;
                    localStorage.setItem('av-leg', color);
                }
                updateDisplay();
            } else {
                alert("Not enough Robux!");
            }
        }
        updateDisplay();
    </script>
</body>
</html>

<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title><!-- {{TITLE}} --></title>
  <meta name="description" content="<!-- {{DESCRIPTION}} -->" />
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{
      --bg:#0b1320; --panel:#101a2c; --card:#0d1729; --text:#e8eef6; --muted:#9bb0c7; --accent:#78f09e; --accent-2:#8fd3ff; --ring:color-mix(in srgb, var(--text), transparent 85%);
      --content-max: 70ch;
    }
    @media (prefers-color-scheme: light){:root{--bg:#f5fbff; --panel:#ffffff; --card:#f7fafc; --text:#0e1726; --muted:#49546a; --accent:#2bb673}}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial; background:var(--bg); color:var(--text)}/* Layout */
.wrap{max-width:1100px; margin:0 auto; padding:clamp(16px,3vw,24px)}
header.site{display:flex; align-items:center; gap:12px; padding:8px 0 12px}
header.site a{color:var(--accent); text-decoration:none}

.hero{background:linear-gradient(180deg, var(--panel), #0b1526); border:1px solid var(--ring); border-radius:18px; padding:clamp(14px,3vw,20px); display:grid; gap:10px}
.meta{display:flex; flex-wrap:wrap; gap:10px; align-items:center; color:var(--muted); font-size:.9rem}
.pill{display:inline-flex; align-items:center; gap:6px; padding:.25rem .6rem; border-radius:999px; border:1px solid var(--ring); color:var(--muted); background:color-mix(in srgb, var(--panel), transparent 30%)}
.title{font-size:clamp(1.8rem,5.8vw,3rem); margin:.1rem 0}

.cover{border-radius:14px; overflow:hidden; background:#0a1222; border:1px solid var(--ring); aspect-ratio: 16/9; display:grid; place-items:center}
.cover img{width:100%; height:100%; object-fit:cover}

/* Article layout */
.grid{display:grid; grid-template-columns: 1fr min(34%, 320px); gap:clamp(16px,3vw,24px); margin-top:clamp(14px,2.5vw,20px)}
@media (max-width:960px){.grid{grid-template-columns:1fr}}

article{background:linear-gradient(180deg, var(--panel), #0e182b); border:1px solid var(--ring); border-radius:18px; padding:clamp(16px,3vw,22px)}
.content{max-width:var(--content-max); margin:0 auto}

/* Typography defaults (no content included) */
.content h2,.content h3,.content h4{margin:1.2rem 0 .4rem}
.content p{margin:.7rem 0; color:var(--text)}
.content ul,.content ol{margin:.5rem 0 .8rem 1.25rem}
.content li{margin:.25rem 0}
.content code{background:#0b1a2d; border:1px solid var(--ring); padding:.1rem .35rem; border-radius:6px}
pre{background:#0b1a2d; border:1px solid var(--ring); border-radius:12px; padding:12px; overflow:auto}
blockquote{margin:1rem 0; padding:.75rem 1rem; border-left:4px solid var(--accent); background:color-mix(in srgb, var(--panel), transparent 35%); border-radius:12px}
figure{margin:1rem 0;}
figcaption{color:var(--muted); font-size:.9rem; margin-top:.35rem}

/* Callouts */
.callout{border:1px solid var(--ring); border-radius:12px; padding:.8rem; background:color-mix(in srgb, var(--panel), transparent 25%)}

/* TOC */
.toc{position:sticky; top:12px; background:var(--card); border:1px solid var(--ring); border-radius:12px; padding:10px}
.toc h3{margin:.25rem 0 .4rem; font-size:1rem}
.toc nav{display:grid; gap:6px; font-size:.95rem}
.toc a{color:var(--muted); text-decoration:none}
.toc a:hover{color:var(--accent)}

/* Footer nav */
.postnav{display:flex; justify-content:space-between; gap:8px; margin-top:14px}
.postnav a{flex:1; text-decoration:none; color:var(--accent); border:1px solid var(--ring); border-radius:12px; padding:.8rem; text-align:center}

footer.site{margin-top:18px; text-align:center; color:var(--muted); padding:16px 0}

/* Skeleton lines for "no words" mode (preview state) */
.skeleton{--sh: 12px; background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.12), rgba(255,255,255,.04)); background-size:200% 100%; animation:shimmer 1.8s linear infinite}
@keyframes shimmer{to{background-position: -200% 0}}
.sk-line{height:var(--sh); border-radius:8px}
.sk-32{--sh:32px}
.sk-20{--sh:20px}
.sk-14{--sh:14px}
.sk-gap{height:10px}

/* Mobile tweaks */
@media (max-width:520px){
  .grid{gap:14px}
  .toc{position:static}
  .postnav{flex-direction:column}
}

  </style>
</head>
<body>
  <div class="wrap">
    <header class="site">
      <a href="/" aria-label="Home">Home</a>
      <span aria-hidden="true">·</span>
      <a href="wip.html" aria-label="Work in progress">WIP</a>
    </header><!-- HERO: replace placeholders with actual content; keep structure -->
<section class="hero">
  <div class="meta" aria-label="Post meta">
    <span class="pill" id="meta-date"><!-- {{DATE}} --></span>
    <span class="pill" id="meta-read"><!-- {{READING_TIME}} --></span>
    <span class="pill" id="meta-tags"><!-- {{TAGS}} --></span>
  </div>
  <h1 class="title" id="post-title"><!-- {{TITLE}} --></h1>
  <div class="cover" id="cover">
    <!-- Optional cover image: <img src="/path/to/cover.jpg" alt="" /> -->
    <div class="skeleton sk-32" style="width:60%; max-width:360px"></div>
  </div>
</section>

<div class="grid">
  <!-- MAIN ARTICLE -->
  <article>
    <div class="content" id="content">
      <!--
        Write your article here using semantic HTML (h2/h3/p/ul/ol/figure/code/pre/etc.)
        Example structure (remove comments when adding real content):

        <h2 id="intro">...</h2>
        <p>...</p>
        <h2 id="section-1">...</h2>
        <h3 id="sub-1">...</h3>
        <p>...</p>
        <figure>
          <img src="..." alt="" />
          <figcaption>...</figcaption>
        </figure>
        <pre><code>...</code></pre>
        <blockquote>...</blockquote>
        <h2 id="summary">...</h2>
      -->

      <!-- Skeleton preview elements (remove when adding content) -->
      <div class="sk-line sk-20" style="width:70%"></div>
      <div class="sk-gap"></div>
      <div class="sk-line" style="width:98%"></div>
      <div class="sk-gap"></div>
      <div class="sk-line" style="width:94%"></div>
      <div class="sk-gap"></div>
      <div class="sk-line" style="width:88%"></div>
      <div class="sk-gap"></div>
      <div class="sk-line" style="width:60%"></div>
    </div>

    <div class="postnav" aria-label="Post navigation">
      <a id="prev" href="wip.html" aria-label="Previous">←<!-- {{PREV_TITLE}} --></a>
      <a id="next" href="wip.html" aria-label="Next"><!-- {{NEXT_TITLE}} -->→</a>
    </div>
  </article>

  <!-- SIDEBAR: Table of contents auto-builds from h2/h3 -->
  <aside>
    <div class="toc" id="toc" aria-label="Table of contents" hidden>
      <h3>Contents</h3>
      <nav></nav>
    </div>
  </aside>
</div>

<footer class="site">
  © <span id="year"></span> Dylan Worth · <a href="mailto:dylanworth@protonmail.com">Contact</a>
</footer>

  </div>  <script>
    // Auto year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Compute reading time when content exists
    function readingTime(text){
      const w = (text||'').trim().split(/\s+/).filter(Boolean).length;
      if(!w){ return ''; }
      const min = Math.max(1, Math.round(w/220));
      return `${min} min read`;
    }

    const metaRead = document.getElementById('meta-read');
    const contentEl = document.getElementById('content');
    const read = readingTime(contentEl.textContent.replace(/\s+/g,' '));
    if(read){ metaRead.textContent = read; }

    // Build TOC from h2/h3 in content
    const toc = document.getElementById('toc');
    const tocNav = toc.querySelector('nav');
    const headings = contentEl.querySelectorAll('h2, h3');
    if(headings.length){
      headings.forEach(h => {
        if(!h.id){ h.id = h.textContent.trim().toLowerCase().replace(/[^a-z0-9]+/g,'-'); }
        const a = document.createElement('a');
        a.href = `#${h.id}`;
        a.textContent = h.textContent;
        a.style.marginLeft = h.tagName === 'H3' ? '12px' : '0';
        tocNav.appendChild(a);
      });
      toc.hidden = false;
    }

    // If no cover image provided, keep skeleton; else remove it when image loads
    const cover = document.getElementById('cover');
    const img = cover.querySelector('img');
    if(img){
      img.addEventListener('load', ()=>{
        cover.querySelector('.skeleton')?.remove();
      }, {once:true});
    }
  </script></body>
</html>